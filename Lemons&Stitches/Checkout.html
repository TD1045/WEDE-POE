<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checkout Lemons & Stitches</title>
</head>
<body>
 <a href="Lemons & Stitches.html" class="back-button">‚Üê Home</a>
    <header>
        <h1>üçã Lemons &amp; Stitches</h1>
        <p>Empowering Knitwear Creatives Online</p>
    </header>
    <nav>
        <a href="Lemons & Stitches.html">Home</a>
        <a href="About us.html">About Us</a>
        <a href="Shop page.html">Shop page</a>
        <a href="New Stitches.html">New Stitches</a>
        <a href="Account Dashboard.html">Account Dashboard</a>
    </nav>
    <form class = "search-container" action="/search" method="GET">
        <input type="text" placeholder="search" name="query" required>
        <button type="submit">üîç</button>
    </form>
  <h1>Checkout</h1>

    <form action="Account Dashboard.html">
      <button type="submit">Login</button>
    </form>

  <div class="checkout-container">

    <!-- Shipping Details Form -->
    <div class="form-section">
      <h2>Shipping Information</h2>
      <form id="checkoutForm">
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" name="fullname" required>

        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required>

        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" required>

        <label for="address">Shipping Address</label>
        <textarea id="address" name="address" rows="3" required></textarea>

        <button type="submit" class="submit-btn">Place Order</button>
      </form>
    </div>

    <!-- Order Summary -->
    <div class="summary-section">
      <h2>Your Order</h2>
      <div id="cartSummary"></div>
      <p class="total" id="cartTotal">Total: R0.00</p>
    </div>

  </div>

  <script>
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const summaryContainer = document.getElementById("cartSummary");
    const totalContainer = document.getElementById("cartTotal");

    function renderCartSummary() {
      if (cart.length === 0) {
        summaryContainer.innerHTML = "<p>Your cart is empty.</p>";
        totalContainer.textContent = "Total: R0.00";
        return;
      }

      let total = 0;
      summaryContainer.innerHTML = "";

      cart.forEach(item => {
        const itemEl = document.createElement("div");
        itemEl.className = "cart-item";
        itemEl.innerHTML = `
          <strong>${item.name}</strong><br>
          Qty: ${item.quantity} √ó R${item.price.toFixed(2)}
        `;
        summaryContainer.appendChild(itemEl);
        total += item.price * item.quantity;
      });

      totalContainer.textContent = `Total: R${total.toFixed(2)}`;
    }

    renderCartSummary();

    document.getElementById("checkoutForm").addEventListener("submit", function (e) {
      e.preventDefault();

      // Here you'd normally send data to the backend or payment gateway
      alert("Order placed successfully!\n(Placeholder for order processing)");

      // Clear cart
      localStorage.removeItem("cart");

      // Redirect to thank you / home
      window.location.href = "Lemons & Stitches.html";
    });
  </script>
</body>
</html>
